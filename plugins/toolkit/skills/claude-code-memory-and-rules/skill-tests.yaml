# Tests that claude-code-memory-and-rules is invoked for memory, CLAUDE.md, and
# rules configuration, and correctly skipped for hooks and unrelated tasks.
skill: toolkit:claude-code-memory-and-rules
model: haiku

tests:
  - id: setup-memory
    prompt: "help me set up CLAUDE.md for my project"
    should_trigger: true

  - id: add-rules
    prompt: "I want to add rules for my TypeScript files"
    should_trigger: true

  - id: configure-project-instructions
    prompt: "how do I add project instructions that persist across sessions"
    should_trigger: true

  - id: path-scoped-rules
    prompt: "I want certain instructions to only apply to my API files"
    should_trigger: true

  - id: rules-vs-hooks
    prompt: "when should I use a rule versus a hook"
    should_trigger: true

  - id: explain-rules
    prompt: "how do rules work in Claude Code"
    should_trigger: true

  - id: auto-memory
    prompt: "how does auto memory work in Claude Code"
    should_trigger: true

  - id: hook-not-rules
    prompt: "create a hook that runs tests before push"
    should_trigger: false
    notes: "Should route to claude-code-hook-development, not memory-and-rules"

  - id: unrelated-bugfix
    prompt: "fix the null pointer exception on line 42"
    should_trigger: false

  - id: unrelated-skill-creation
    prompt: "create a new skill for managing deployments"
    should_trigger: false
